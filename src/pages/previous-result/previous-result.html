<!--
  Generated template for the PreviousResultPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Back</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding text-center>
  <div>
    <h2>{{previousResult.formatDate.substr(0,11)}} @{{previousResult.formatDate.substr(11,9)}}</h2>
    <h3>{{previousResult.street || 'Unknown'}}, {{previousResult.city || 'Unknown'}}</h3>
  </div>
  <hr/>
  <div padding text-center>
    <h4>Test Results</h4>
    <p>Overall distance travelled: {{previousResult.distance}} metres</p>
    <p>Average distance per minute: {{previousResult.avgDistance}} metres</p>
  </div>
  <hr/>
  <div padding text-center>
    <h4>Previous Results Comparison</h4>
    <div *ngIf="gotPreviousResults && hasPrevious">
      <ion-icon name="happy" class="avg-icon above" *ngIf="aboveUserAvg"></ion-icon>
      <ion-icon name="sad" class="avg-icon below" *ngIf="belowUserAvg"></ion-icon>
      <ion-icon name="happy" class="avg-icon on" *ngIf="onUserAvg"></ion-icon>
      <p>{{avgUserMessage}}</p>
    </div>
    <div *ngIf="gotPreviousResults && !hasPrevious">
      <ion-icon name="thumbs-up" class="avg-icon above"></ion-icon>
      <p>Looks like this result is your only one or your other distances are zero!<br/>Why don't you change this by taking a new test?</p>
    </div>
    <div *ngIf="!gotPreviousResults">
      <ion-spinner></ion-spinner>
    </div>
  </div>
  <hr/>
  <div padding text-center>
    <h4>Age Group Comparison</h4>
    <div *ngIf="gotAvgResults">
      <ion-icon name="happy" class="avg-icon above" *ngIf="aboveAvg"></ion-icon>
      <ion-icon name="sad" class="avg-icon below" *ngIf="belowAvg"></ion-icon>
      <ion-icon name="happy" class="avg-icon on" *ngIf="onAvg"></ion-icon>
      <p>{{avgMessage}}</p>
    </div>
    <div *ngIf="!gotAvgResults">
      <ion-spinner></ion-spinner>
    </div>
  </div>
</ion-content>
